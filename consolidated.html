<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Consolidated Reports - CARAGA Region</title>
		<link rel="stylesheet" href="styles.css" />
	</head>
	<body>
		<div class="container" style="max-width: 100%">
			<div class="form-card" style="max-width: 100%">
				<div class="header">
					<div
						style="
							display: flex;
							justify-content: space-between;
							margin-bottom: 1rem;
						"
					>
						<button
							type="button"
							id="backBtn"
							style="
								padding: 0.6rem 0.8rem;
								display: flex;
								align-items: center;
								gap: 0.5rem;
								border: none;
								background: transparent;
								color: white;
								cursor: pointer;
								font-size: 1.2rem;
								transition: opacity 0.2s;
							"
							title="Back to Dashboard"
						>
							<svg
								xmlns="http://www.w3.org/2000/svg"
								width="24"
								height="24"
								viewBox="0 0 24 24"
								fill="none"
								stroke="currentColor"
								stroke-width="2"
								stroke-linecap="round"
								stroke-linejoin="round"
							>
								<path d="M19 12H5"></path>
								<polyline points="12 19 5 12 12 5"></polyline>
							</svg>
						</button>
						<button
							type="button"
							id="logoutBtn"
							style="
								padding: 0.6rem 0.8rem;
								display: flex;
								align-items: center;
								gap: 0.5rem;
								border: none;
								background: transparent;
								color: #dc3545;
								cursor: pointer;
								font-size: 1.2rem;
								transition: opacity 0.2s;
							"
							title="Logout"
						>
							<svg
								xmlns="http://www.w3.org/2000/svg"
								width="24"
								height="24"
								viewBox="0 0 24 24"
								fill="none"
								stroke="currentColor"
								stroke-width="2"
								stroke-linecap="round"
								stroke-linejoin="round"
							>
								<path
									d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"
								></path>
								<polyline points="16 17 21 12 16 7"></polyline>
								<line x1="21" y1="12" x2="9" y2="12"></line>
							</svg>
						</button>
					</div>
					<h1 id="reportTitle">Progress Report</h1>
					<p>CARAGA Region (Region XIII)</p>
				</div>

				<div style="flex: 1; overflow-y: auto; padding: 1.5rem;">
					<!-- Provinces Section -->
					<div id="provincesContainer"></div>

					<!-- Copy Section -->
					<div
						class="preview-section"
						style="
							background: var(--bg-color);
							/* border: 2px solid var(--primary-color); */
							/* border-radius: 8px; */
							padding: 1.5rem;
							margin-top: 2rem;
						"
					>
						<h3 style="margin: 0 0 1rem 0">
							Copy Ready to Send Message
						</h3>
						<textarea
							id="copyableData"
							readonly
							style="
								width: 100%;
								min-height: 300px;
								font-family: 'Courier New', monospace;
								font-size: 0.875rem;
								padding: 1rem;
								border: 1px solid var(--border-color);
								background: white;
								resize: vertical;
							"
						></textarea>
						<p
							style="
								margin-top: 0.5rem;
								margin-bottom: 1rem;
								font-size: 0.75rem;
								color: var(--text-secondary);
							"
						>
							This text is formatted for easy copying and pasting.
						</p>
						<button
							id="copyDataBtn"
							class="btn btn-primary"
							style="width: 100%"
						>
							ðŸ“‹ Copy Ready to Send Message
						</button>
					</div>

					<div
						id="noDataMessage"
						class="alert alert-error"
						style="display: none; margin-top: 1rem"
					>
						No reports found. Submit reports from the form page
						first.
					</div>

					<!-- Archive and Reset Button Section -->
					<div style="margin-top: 2rem; display: flex; gap: 1rem">
						<button
							id="archiveDataBtn"
							class="btn btn-primary"
							style="flex: 1"
						>
							ðŸ“¦ Archive Data
						</button>
					</div>
				</div>
			</div>
		</div>

		<script src="loading.js"></script>
		<script src="psgc-data.js"></script>
		<script src="api.js"></script>
		<script src="consolidated.js"></script>
		<script>
			// Add hover effects and handlers for navigation buttons
			document.addEventListener("DOMContentLoaded", function () {
				// Back button
				const backBtn = document.getElementById("backBtn");
				if (backBtn) {
					backBtn.addEventListener("click", function () {
						window.location.href = "consolidator-dashboard.html";
					});
					backBtn.addEventListener("mouseenter", function () {
						this.style.opacity = "0.7";
					});
					backBtn.addEventListener("mouseleave", function () {
						this.style.opacity = "1";
					});
				}

				// Logout button
				const logoutBtn = document.getElementById("logoutBtn");
				if (logoutBtn) {
					logoutBtn.addEventListener("click", function () {
						// Clear session storage
						sessionStorage.clear();
						// Redirect to login page
						window.location.href = "index.html";
					});
					logoutBtn.addEventListener("mouseenter", function () {
						this.style.opacity = "0.7";
					});
					logoutBtn.addEventListener("mouseleave", function () {
						this.style.opacity = "1";
					});
				}
			});
		</script>
	</body>
</html>
