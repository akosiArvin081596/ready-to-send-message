<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Disaster Report Form</title>
		<link rel="stylesheet" href="styles.css" />
	</head>
	<body>
		<div class="container">
			<div class="form-card">
				<div class="header">
					<div style="display: flex; justify-content: space-between; margin-bottom: 1rem;">
				<button type="button" id="backBtn" style="padding: 0.6rem 0.8rem; display: flex; align-items: center; gap: 0.5rem; border: none; background: transparent; color: white; cursor: pointer; font-size: 1.2rem; transition: opacity 0.2s;" title="Back to Dashboard">
					<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
						<path d="M19 12H5"></path>
						<polyline points="12 19 5 12 12 5"></polyline>
					</svg>
				</button>
						<button type="button" id="logoutBtn" style="padding: 0.6rem 0.8rem; display: flex; align-items: center; gap: 0.5rem; border: none; background: transparent; color: #dc3545; cursor: pointer; font-size: 1.2rem; transition: opacity 0.2s;" title="Logout">
							<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
								<path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
								<polyline points="16 17 21 12 16 7"></polyline>
								<line x1="21" y1="12" x2="9" y2="12"></line>
							</svg>
						</button>
					</div>
					<h1>Earthquake Progress Report</h1>
					<p id="provinceDisplay"></p>
				</div>

				<form id="reportForm" class="report-form">
					<!-- Situation Overview per Province -->
					<div class="form-section">
						<h3>Province Situation Overview</h3>
						<div class="form-group">
							<textarea
								id="situationOverview"
								name="situationOverview"
								rows="4"
								placeholder="Provide a brief overview of the situation in the province..."
							></textarea>
						</div>
					</div>

					<!-- Earthquake Intensity - Felt Options -->
					<div class="form-section">
						<h3>Earthquake Intensity (Select felt level)</h3>
						<div class="form-group">
							<label for="intensity">Intensity Level:</label>
							<select id="intensity" name="intensity" required>
								<option value="">
									-- Select Intensity Level --
								</option>
								<option value="Not felt">Not felt</option>
								<option value="Slightly felt">
									Slightly felt
								</option>
								<option value="Weak tremor">Weak tremor</option>
								<option value="Lightly felt">
									Lightly felt
								</option>
								<option value="Moderately felt">
									Moderately felt
								</option>
								<option value="Strongly felt">
									Strongly felt
								</option>
								<option value="Very strong">Very strong</option>
								<option value="Violent">Violent</option>
								<option value="Extreme shaking">
									Extreme shaking
								</option>
							</select>
						</div>
					</div>

					<!-- Coordination Notes -->
					<div class="form-section">
						<h3>Coordination Notes</h3>
						<div class="form-group">
							<textarea
								id="coordinationNotes"
								name="coordinationNotes"
								rows="3"
								placeholder="Coordination is ongoing with staff on the ground."
							></textarea>
						</div>
					</div>

					<!-- Affected Population -->
					<div class="form-section">
						<h3>Affected Population</h3>
						<div class="form-row">
							<div class="form-group">
								<label for="affectedFamilies">Families:</label>
								<input
									type="number"
									id="affectedFamilies"
									name="affectedFamilies"
									min="0"
									placeholder="0"
								/>
							</div>
							<div class="form-group">
								<label for="affectedPersons">Persons:</label>
								<input
									type="number"
									id="affectedPersons"
									name="affectedPersons"
									min="0"
									placeholder="0"
								/>
							</div>
						</div>
					</div>

					<!-- Damaged Houses -->
					<div class="form-section">
						<h3>Damaged Houses</h3>
						<div class="form-row">
							<div class="form-group">
								<label for="damagedTotally"
									>Totally Damaged:</label
								>
								<input
									type="number"
									id="damagedTotally"
									name="damagedTotally"
									min="0"
									placeholder="0"
								/>
							</div>
							<div class="form-group">
								<label for="damagedPartially"
									>Partially Damaged:</label
								>
								<input
									type="number"
									id="damagedPartially"
									name="damagedPartially"
									min="0"
									placeholder="0"
								/>
							</div>
						</div>
					</div>

					<!-- Casualties -->
					<div class="form-section">
						<h3>Casualties</h3>
						<div style="margin-bottom: 1rem">
							<label
								><input
									type="checkbox"
									id="noCasualties"
									name="noCasualties"
								/>
								No Casualties</label
							>
						</div>
						<div id="casualtiesDetails">
							<div class="form-row">
								<div class="form-group">
									<label for="injured">Injured:</label>
									<input
										type="number"
										id="injured"
										name="injured"
										min="0"
										placeholder="0"
									/>
								</div>
								<div class="form-group">
									<label for="wounded">Wounded:</label>
									<input
										type="number"
										id="wounded"
										name="wounded"
										min="0"
										placeholder="0"
									/>
								</div>
								<div class="form-group">
									<label for="dead">Dead:</label>
									<input
										type="number"
										id="dead"
										name="dead"
										min="0"
										placeholder="0"
									/>
								</div>
							</div>
						</div>
					</div>

					<!-- Alerts and Warnings -->
					<div class="form-section">
						<h3>Alerts & Warnings</h3>

						<!-- Tsunami Alert -->
						<div class="form-group">
							<label
								><input
									type="checkbox"
									class="alert-checkbox"
									data-remarks="tsunamiRemarks"
								/>
								Tsunami Alert</label
							>
							<div
								id="tsunamiRemarks"
								class="remarks-field"
								style="display: none"
							>
								<input
									type="text"
									placeholder="Enter remarks..."
									class="remarks-input"
								/>
							</div>
						</div>

						<!-- Work and Class Suspension -->
						<div class="form-group">
							<label
								><input
									type="checkbox"
									class="alert-checkbox"
									data-remarks="suspensionRemarks"
								/>
								Work and Class Suspension</label
							>
							<div
								id="suspensionRemarks"
								class="remarks-field"
								style="display: none"
							>
								<input
									type="text"
									placeholder="Enter remarks..."
									class="remarks-input"
								/>
							</div>
						</div>

						<!-- Gale Warning -->
						<div class="form-group">
							<label
								><input
									type="checkbox"
									class="alert-checkbox"
									data-remarks="galeRemarks"
								/>
								Gale Warning</label
							>
							<div
								id="galeRemarks"
								class="remarks-field"
								style="display: none"
							>
								<input
									type="text"
									placeholder="Enter remarks..."
									class="remarks-input"
								/>
							</div>
						</div>

						<!-- Power Interruption -->
						<div class="form-group">
							<label
								><input
									type="checkbox"
									class="alert-checkbox"
									data-remarks="powerRemarks"
								/>
								Power Interruption</label
							>
							<div
								id="powerRemarks"
								class="remarks-field"
								style="display: none"
							>
								<input
									type="text"
									placeholder="Enter remarks..."
									class="remarks-input"
								/>
							</div>
						</div>

						<!-- Water Interruption -->
						<div class="form-group">
							<label
								><input
									type="checkbox"
									class="alert-checkbox"
									data-remarks="waterRemarks"
								/>
								Water Interruption</label
							>
							<div
								id="waterRemarks"
								class="remarks-field"
								style="display: none"
							>
								<input
									type="text"
									placeholder="Enter remarks..."
									class="remarks-input"
								/>
							</div>
						</div>
					</div>

					<div class="form-actions">
						<button type="submit" class="btn btn-primary">
							Submit Report
						</button>
					</div>
				</form>
			</div>
		</div>

		<!-- Modal for preview -->
		<div id="previewModal" class="modal">
			<div class="modal-content">
				<div class="modal-header">
					<h2>Report Preview</h2>
					<span class="close">&times;</span>
				</div>
				<div id="previewContent" class="modal-body"></div>
				<div class="modal-footer">
					<button id="downloadBtn" class="btn btn-primary">
						Download JSON
					</button>
					<button class="btn btn-secondary close-modal">Close</button>
				</div>
			</div>
		</div>

		<script src="loading.js"></script>
		<script src="psgc-data.js"></script>
		<script src="api.js"></script>
		<script src="form.js"></script>
		<script>
			// Add hover effects and handlers for navigation buttons
			document.addEventListener('DOMContentLoaded', function() {
				// Back button
				const backBtn = document.getElementById('backBtn');
				if (backBtn) {
					backBtn.addEventListener('click', function() {
						window.location.href = 'dashboard.html';
					});
					backBtn.addEventListener('mouseenter', function() {
						this.style.opacity = '0.7';
					});
					backBtn.addEventListener('mouseleave', function() {
						this.style.opacity = '1';
					});
				}

				// Logout button
				const logoutBtn = document.getElementById('logoutBtn');
				if (logoutBtn) {
					logoutBtn.addEventListener('mouseenter', function() {
						this.style.opacity = '0.7';
					});
					logoutBtn.addEventListener('mouseleave', function() {
						this.style.opacity = '1';
					});
				}
			});
		</script>
	</body>
</html>
